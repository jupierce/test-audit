kind: DeploymentConfig
spec:
  replicas: 2
  selector: {docker-registry: default}
  strategy:
    activeDeadlineSeconds: 21600
    resources: {}
    rollingParams: {intervalSeconds: 1, maxSurge: 25%, maxUnavailable: 25%, timeoutSeconds: 600,
      updatePeriodSeconds: 1}
    type: Rolling
  template:
    metadata:
      creationTimestamp: null
      labels: {docker-registry: default}
    spec:
      containers:
        registry:
          env:
            REGISTRY_CONFIGURATION_PATH: {name: REGISTRY_CONFIGURATION_PATH, value: /etc/registry/config.yml}
            REGISTRY_HTTP_ADDR: {name: REGISTRY_HTTP_ADDR, value: ':5000'}
            REGISTRY_HTTP_NET: {name: REGISTRY_HTTP_NET, value: tcp}
            REGISTRY_HTTP_SECRET: {name: REGISTRY_HTTP_SECRET, value: '*********'}
            REGISTRY_HTTP_TLS_CERTIFICATE: {name: REGISTRY_HTTP_TLS_CERTIFICATE, value: /etc/secrets/registry.crt}
            REGISTRY_HTTP_TLS_KEY: {name: REGISTRY_HTTP_TLS_KEY, value: /etc/secrets/registry.key}
            REGISTRY_MIDDLEWARE_REPOSITORY_OPENSHIFT_ENFORCEQUOTA: {name: REGISTRY_MIDDLEWARE_REPOSITORY_OPENSHIFT_ENFORCEQUOTA,
              value: 'false'}
            REGISTRY_OPENSHIFT_REQUESTS_WRITE_MAXRUNNING: {name: REGISTRY_OPENSHIFT_REQUESTS_WRITE_MAXRUNNING,
              value: '256'}
            REGISTRY_OPENSHIFT_REQUESTS_WRITE_MAXWAITINQUEUE: {name: REGISTRY_OPENSHIFT_REQUESTS_WRITE_MAXWAITINQUEUE,
              value: 2h}
            REGISTRY_OPENSHIFT_SERVER_ADDR: {name: REGISTRY_OPENSHIFT_SERVER_ADDR,
              value: 'docker-registry.default.svc:5000'}
          image: registry.reg-aws.openshift.com:443/openshift3/ose-docker-registry:vNUM_FIELD
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet: {path: /healthz, port: 5000, scheme: HTTPS}
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: registry
          ports:
          - {containerPort: 5000, protocol: TCP}
          readinessProbe:
            failureThreshold: 3
            httpGet: {path: /healthz, port: 5000, scheme: HTTPS}
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            requests: {cpu: 100m, memory: 256Mi}
          securityContext: {privileged: false}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            docker-config: {mountPath: /etc/registry, name: docker-config}
            registry-certificates: {mountPath: /etc/secrets, name: registry-certificates}
            registry-storage: {mountPath: /registry, name: registry-storage}
      dnsPolicy: ClusterFirst
      nodeSelector: {type: infra}
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      serviceAccount: registry
      serviceAccountName: registry
      terminationGracePeriodSeconds: 30
      volumes:
        docker-config:
          name: docker-config
          secret: {defaultMode: 420, secretName: registry-config}
        registry-certificates:
          name: registry-certificates
          secret: {defaultMode: 420, secretName: registry-certificates}
        registry-storage:
          emptyDir: {sizeLimit: '0'}
          name: registry-storage
  test: false
  triggers:
  - {type: ConfigChange}
